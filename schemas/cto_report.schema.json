{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CTO Report Schema",
  "description": "Schema for CTO Agent reports about loop health and system integrity",
  "type": "object",
  "required": [
    "loop_id",
    "health_score",
    "plan_summary_alignment_score",
    "trust_decay",
    "recommendation",
    "timestamp"
  ],
  "properties": {
    "loop_id": {
      "type": "string",
      "description": "Unique identifier of the loop being analyzed"
    },
    "health_score": {
      "type": "number",
      "description": "Score indicating overall loop health (0.0 to 1.0)",
      "minimum": 0.0,
      "maximum": 1.0
    },
    "plan_summary_alignment_score": {
      "type": "number",
      "description": "Score indicating alignment between plan and summary (0.0 to 1.0)",
      "minimum": 0.0,
      "maximum": 1.0
    },
    "trust_decay": {
      "type": "number",
      "description": "Measure of trust decay over recent loops (0.0 to 1.0)",
      "minimum": 0.0,
      "maximum": 1.0
    },
    "agent_failure_rates": {
      "type": "object",
      "description": "Failure rates for each agent over recent loops",
      "additionalProperties": {
        "type": "number",
        "minimum": 0.0,
        "maximum": 1.0
      }
    },
    "recommendation": {
      "type": "string",
      "description": "Recommended action to improve system health"
    },
    "timestamp": {
      "type": "string",
      "description": "ISO 8601 timestamp when the report was generated",
      "format": "date-time"
    }
  },
  "additionalProperties": false
}
