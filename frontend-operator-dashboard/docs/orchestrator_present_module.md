# Orchestrator Present Module - Architecture Deck Generator

This document describes the `/orchestrator/present` endpoint, which converts stored project scopes into visual presentation slides with narration.

## Overview

The Architecture Deck Generator transforms technical project plans into explained, narratable presentation formats. It takes a project scope (previously generated by `/orchestrator/scope`) and converts it into a structured set of slides and a markdown script that can be used for presentations.

## Endpoint Specification

```
POST /orchestrator/present
```

### Request Body

```json
{
  "project_id": "proj-legacy-reflector"
}
```

### Response Format

```json
{
  "project_id": "proj-legacy-reflector",
  "slides": [
    {
      "title": "Goal",
      "content": "Create an agent that reflects on memory with tone awareness",
      "narration_text": "This project aims to create an agent that reflects on memory with tone awareness."
    },
    {
      "title": "Modules Required",
      "content": "- write\n- read\n- reflect\n- summarize",
      "narration_text": "To achieve this goal, we'll need 4 modules: write, read, reflect, and summarize."
    },
    ...
  ],
  "markdown_script": "# Promethios System Plan\n\n## Goal\n...\n## Modules\n...\n## Agents\n...",
  "status": "success"
}
```

### Error Response

If no project scope is found for the provided project_id, the endpoint returns a 404 error:

```json
{
  "status": "error",
  "reason": "No project_scope memory found for project_id: proj-x"
}
```

## Implementation Details

### Core Components

1. **Project Scope Lookup**

   - Searches the memory store for a memory of type "project_scope" with the matching project_id
   - Parses the content as JSON to extract the project plan

2. **Slide Generation**

   - Creates structured slides for each key aspect of the project plan:
     - Goal
     - Modules Required
     - Agents Involved
     - Known Risks
     - Execution Tasks
     - Confidence Assessment
     - Project Dependencies

3. **Markdown Script Generation**

   - Produces a comprehensive markdown document that includes all slide content
   - Adds a summary section that highlights key metrics and insights

4. **Narration Text**
   - Generates natural language descriptions for each slide
   - Designed to be used with text-to-speech systems in the future

### Data Flow

1. Client submits a POST request with a project_id
2. System looks up the stored project scope in memory
3. If found, the system generates slides and a markdown script
4. The response includes the project_id, slides array, markdown script, and status
5. If no scope is found, the system returns a 404 error with an explanatory message

## Usage Examples

### Basic Usage

```bash
curl -X POST http://localhost:8000/orchestrator/present \
  -H "Content-Type: application/json" \
  -d '{"project_id": "proj-legacy-reflector"}'
```

### Integration with Frontend

The endpoint is designed to be used with a presentation UI that can:

- Display slides in a carousel or deck format
- Show the markdown script in a separate panel
- Potentially use the narration_text with TTS systems

## Testing

The endpoint includes comprehensive tests in `/tests/test_orchestrator_present.py` that verify:

- Basic functionality with valid project scopes
- Error handling for missing project scopes
- Slide count validation
- Markdown content verification

## Future Enhancements

Potential future enhancements include:

- Adding visualization suggestions for each slide
- Supporting different presentation formats (e.g., executive summary, technical deep-dive)
- Generating downloadable presentation files (e.g., PDF, PPTX)
- Integrating with a TTS system to create audio narrations
