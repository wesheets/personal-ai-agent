{
  "phase_id": 28,
  "phase_title": "Phase 28: Final Integrity Sweep",
  "batches": [
    {
      "batch_id": "28.0",
      "title": "Validate file_tree.json Structure",
      "prompt": "Validate the structure and content of `/home/ubuntu/personal-ai-agent/app/memory/file_tree.json` against its schema defined in `/home/ubuntu/personal-ai-agent/app/schemas/file_tree.schema.json`. Ensure the schema includes `schema_version`: `v1.0`. Log the validation results to `/home/ubuntu/logs/batch_28.0_validation.log`, clearly indicating success or detailing any failures. Ensure the schema file exists.\n\nRepo Sync Protocol Note: Do not perform `git pull` operations before explicitly instructed to do so in a dedicated repo synchronization batch. Assume the current local repository state is the intended state for this batch.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.0):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For each distinct validation execution or script run in this batch that represents a controlled operational sequence:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.0\", `loop_id`: \"<validation_execution_id_28.0>\", `controller_invoked`: \"<validation_script_or_process_name>\", `memory_surfaces_written`: [\"/home/ubuntu/logs/batch_28.0_validation.log\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.0) (e.g., `/home/ubuntu/logs/batch_28.0_validation.log`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.0) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
      "expected_output": "Log entry confirming successful validation of file_tree.json against its schema, or a detailed error report if validation fails. Output to `/home/ubuntu/logs/batch_28.0_validation.log`.",
      "verification_steps": [
        "Confirm validation log `/home/ubuntu/logs/batch_28.0_validation.log` created and contains results.",
        "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the validation execution in this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
        "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
        "Update `verified` status for batch 28.0 to `true`."
      ],
      "verified": false,
      "git_commit_hash": "placeholder",
      "pr_id": "placeholder",
      "dependencies": [
        "27.3"
      ]
    },
    {
      "batch_id": "28.1",
      "title": "Execute Cross-Surface Consistency Audit",
      "prompt": "Execute the centralized audit script `/home/ubuntu/personal-ai-agent/app/validators/run_integrity_sweep.py` with the mode argument set to \"surface_consistency\". This script must compare `/home/ubuntu/personal-ai-agent/app/memory/file_tree.json`, `/home/ubuntu/personal-ai-agent/app/memory/wiring_manifest.json`, and `/home/ubuntu/config/promethios_file_tree_plan.v3.1.4_runtime_synced.json` (Note: this is the input plan, the output plan to be updated is promethios_file_tree_plan.v3.1.5_runtime_synced.json) to identify discrepancies. Output all findings to `/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json`. Each finding must include a `severity` field (\"info\", \"warning\", \"error\") and relevant location details. Ensure the output conforms to `/home/ubuntu/personal-ai-agent/app/schemas/surface_integrity_matrix.schema.json` (v1.0). Ensure the schema and validator script exist. Create the logs directory `/home/ubuntu/personal-ai-agent/app/logs` if needed.\n\nRepo Sync Protocol Note: Do not perform `git pull` operations before explicitly instructed to do so in a dedicated repo synchronization batch. Assume the current local repository state is the intended state for this batch.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`, `surface_integrity_matrix.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.1):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For the execution of `run_integrity_sweep.py` in this batch:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.1\", `loop_id`: \"script_run_integrity_sweep_surface_consistency\", `controller_invoked`: \"run_integrity_sweep.py\", `memory_surfaces_written`: [\"/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.1) (e.g., `/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.1) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
      "expected_output": "`/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json` file containing a list of identified surface inconsistencies, each with a severity level.",
      "verification_steps": [
        "Confirm `/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json` created and populated (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the script execution in this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
        "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `surface_integrity_matrix.json`, `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
        "Update `verified` status for batch 28.1 to `true`."
      ],
      "verified": false,
      "git_commit_hash": "placeholder",
      "pr_id": "placeholder",
      "dependencies": [
        "28.0"
      ]
    },
    {
      "batch_id": "28.2",
      "title": "Execute Agent Drift vs. Trust Correlation Audit",
      "prompt": "Execute the centralized audit script `/home/ubuntu/personal-ai-agent/app/validators/run_integrity_sweep.py` with the mode argument set to \"drift_trust_correlation\". This script must analyze `/home/ubuntu/personal-ai-agent/app/memory/emotion_drift_tracker.json` and relevant agent trust score sources to identify potential correlations between significant emotional drift and changes in trust scores. Output findings to `/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json`. Each finding must include a `severity` field (\"info\", \"warning\", \"error\") and relevant agent/loop identifiers. Ensure the output conforms to `/home/ubuntu/personal-ai-agent/app/schemas/agent_drift_correlation_log.schema.json` (v1.0). Ensure the schema exists.\n\nRepo Sync Protocol Note: Do not perform `git pull` operations before explicitly instructed to do so in a dedicated repo synchronization batch. Assume the current local repository state is the intended state for this batch.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`, `agent_drift_correlation_log.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.2):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For the execution of `run_integrity_sweep.py` in this batch:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.2\", `loop_id`: \"script_run_integrity_sweep_drift_trust\", `controller_invoked`: \"run_integrity_sweep.py\", `memory_surfaces_written`: [\"/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.2) (e.g., `/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.2) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
      "expected_output": "`/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json` file containing identified correlations between agent drift and trust changes, each with a severity level.",
      "verification_steps": [
        "Confirm `/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json` created and populated (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the script execution in this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
        "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `agent_drift_correlation_log.json`, `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
        "Update `verified` status for batch 28.2 to `true`."
      ],
      "verified": false,
      "git_commit_hash": "placeholder",
      "pr_id": "placeholder",
      "dependencies": [
        "28.0"
      ]
    },
    {
      "batch_id": "28.3",
      "title": "Execute Justification Linkage Validation Audit",
      "prompt": "Execute the centralized audit script `/home/ubuntu/personal-ai-agent/app/validators/run_integrity_sweep.py` with the mode argument set to \"justification_linkage\". This script must scan `/home/ubuntu/personal-ai-agent/app/memory/loop_justification_log.json`, parse references to beliefs and surfaces, and validate their existence and consistency against `/home/ubuntu/personal-ai-agent/app/memory/belief_surface.json` and `/home/ubuntu/personal-ai-agent/app/memory/file_tree.json` respectively. Output anomalies to `/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json`. Each anomaly must include a `severity` field (\"info\", \"warning\", \"error\") and relevant loop/justification identifiers. Ensure the output conforms to `/home/ubuntu/personal-ai-agent/app/schemas/justification_trace_anomaly_log.schema.json` (v1.0). Ensure the schema exists.\n\nRepo Sync Protocol Note: Do not perform `git pull` operations before explicitly instructed to do so in a dedicated repo synchronization batch. Assume the current local repository state is the intended state for this batch.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`, `justification_trace_anomaly_log.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.3):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For the execution of `run_integrity_sweep.py` in this batch:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.3\", `loop_id`: \"script_run_integrity_sweep_justification_linkage\", `controller_invoked`: \"run_integrity_sweep.py\", `memory_surfaces_written`: [\"/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.3) (e.g., `/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.3) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
      "expected_output": "`/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json` file containing identified anomalies in justification linkages, each with a severity level.",
      "verification_steps": [
        "Confirm `/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json` created and populated (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the script execution in this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
        "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `justification_trace_anomaly_log.json`, `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
        "Update `verified` status for batch 28.3 to `true`."
      ],
      "verified": false,
      "git_commit_hash": "placeholder",
      "pr_id": "placeholder",
      "dependencies": [
        "28.0"
      ]
    },
    {
      "batch_id": "28.4",
      "title": "Final Review and PR{
  "phases": [
    {
      "phase_id": 28,
      "phase_title": "Phase 28: Final Integrity Sweep",
      "batches": [
        {
          "batch_id": "28.0",
          "title": "Validate file_tree.json Structure",
          "prompt": "Validate the structure and content of `/home/ubuntu/personal-ai-agent/app/memory/file_tree.json` against its schema defined in `/home/ubuntu/personal-ai-agent/app/schemas/file_tree.schema.json`. Ensure the schema includes `schema_version`: `v1.0`. Log the validation results to `/home/ubuntu/logs/batch_28.0_validation.log`, clearly indicating success or detailing any failures. Ensure the schema file exists.\n\nRepo Sync Protocol Note: Do not perform `git pull` operations before explicitly instructed to do so in a dedicated repo synchronization batch. Assume the current local repository state is the intended state for this batch.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.0):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For each distinct validation execution or script run in this batch that represents a controlled operational sequence:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.0\", `loop_id`: \"<validation_execution_id_28.0>\", `controller_invoked`: \"<validation_script_or_process_name>\", `memory_surfaces_written`: [\"/home/ubuntu/logs/batch_28.0_validation.log\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.0) (e.g., `/home/ubuntu/logs/batch_28.0_validation.log`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.0) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
          "expected_output": "Log entry confirming successful validation of file_tree.json against its schema, or a detailed error report if validation fails. Output to `/home/ubuntu/logs/batch_28.0_validation.log`.",
          "verification_steps": [
            "Confirm validation log `/home/ubuntu/logs/batch_28.0_validation.log` created and contains results.",
            "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the validation execution in this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
            "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
            "Update `verified` status for batch 28.0 to `true`."
          ],
          "verified": false,
          "git_commit_hash": "placeholder",
          "pr_id": "placeholder",
          "dependencies": [
            "27.3"
          ]
        },
        {
          "batch_id": "28.1",
          "title": "Execute Cross-Surface Consistency Audit",
          "prompt": "Execute the centralized audit script `/home/ubuntu/personal-ai-agent/app/validators/run_integrity_sweep.py` with the mode argument set to \"surface_consistency\". This script must compare `/home/ubuntu/personal-ai-agent/app/memory/file_tree.json`, `/home/ubuntu/personal-ai-agent/app/memory/wiring_manifest.json`, and `/home/ubuntu/config/promethios_file_tree_plan.v3.1.4_runtime_synced.json` (Note: this is the input plan, the output plan to be updated is promethios_file_tree_plan.v3.1.5_runtime_synced.json) to identify discrepancies. Output all findings to `/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json`. Each finding must include a `severity` field (\"info\", \"warning\", \"error\") and relevant location details. Ensure the output conforms to `/home/ubuntu/personal-ai-agent/app/schemas/surface_integrity_matrix.schema.json` (v1.0). Ensure the schema and validator script exist. Create the logs directory `/home/ubuntu/personal-ai-agent/app/logs` if needed.\n\nRepo Sync Protocol Note: Do not perform `git pull` operations before explicitly instructed to do so in a dedicated repo synchronization batch. Assume the current local repository state is the intended state for this batch.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`, `surface_integrity_matrix.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.1):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For the execution of `run_integrity_sweep.py` in this batch:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.1\", `loop_id`: \"script_run_integrity_sweep_surface_consistency\", `controller_invoked`: \"run_integrity_sweep.py\", `memory_surfaces_written`: [\"/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.1) (e.g., `/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.1) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
          "expected_output": "`/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json` file containing a list of identified surface inconsistencies, each with a severity level.",
          "verification_steps": [
            "Confirm `/home/ubuntu/personal-ai-agent/app/logs/surface_integrity_matrix.json` created and populated (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the script execution in this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
            "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `surface_integrity_matrix.json`, `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
            "Update `verified` status for batch 28.1 to `true`."
          ],
          "verified": false,
          "git_commit_hash": "placeholder",
          "pr_id": "placeholder",
          "dependencies": [
            "28.0"
          ]
        },
        {
          "batch_id": "28.2",
          "title": "Execute Agent Drift vs. Trust Correlation Audit",
          "prompt": "Execute the centralized audit script `/home/ubuntu/personal-ai-agent/app/validators/run_integrity_sweep.py` with the mode argument set to \"drift_trust_correlation\". This script must analyze `/home/ubuntu/personal-ai-agent/app/memory/emotion_drift_tracker.json` and relevant agent trust score sources to identify potential correlations between significant emotional drift and changes in trust scores. Output findings to `/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json`. Each finding must include a `severity` field (\"info\", \"warning\", \"error\") and relevant agent/loop identifiers. Ensure the output conforms to `/home/ubuntu/personal-ai-agent/app/schemas/agent_drift_correlation_log.schema.json` (v1.0). Ensure the schema exists.\n\nRepo Sync Protocol Note: Do not perform `git pull` operations before explicitly instructed to do so in a dedicated repo synchronization batch. Assume the current local repository state is the intended state for this batch.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`, `agent_drift_correlation_log.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.2):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For the execution of `run_integrity_sweep.py` in this batch:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.2\", `loop_id`: \"script_run_integrity_sweep_drift_trust\", `controller_invoked`: \"run_integrity_sweep.py\", `memory_surfaces_written`: [\"/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.2) (e.g., `/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.2) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
          "expected_output": "`/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json` file containing identified correlations between agent drift and trust changes, each with a severity level.",
          "verification_steps": [
            "Confirm `/home/ubuntu/personal-ai-agent/app/logs/agent_drift_correlation_log.json` created and populated (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the script execution in this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
            "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `agent_drift_correlation_log.json`, `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
            "Update `verified` status for batch 28.2 to `true`."
          ],
          "verified": false,
          "git_commit_hash": "placeholder",
          "pr_id": "placeholder",
          "dependencies": [
            "28.0"
          ]
        },
        {
          "batch_id": "28.3",
          "title": "Execute Justification Linkage Validation Audit",
          "prompt": "Execute the centralized audit script `/home/ubuntu/personal-ai-agent/app/validators/run_integrity_sweep.py` with the mode argument set to \"justification_linkage\". This script must scan `/home/ubuntu/personal-ai-agent/app/memory/loop_justification_log.json`, parse references to beliefs and surfaces, and validate their existence and consistency against `/home/ubuntu/personal-ai-agent/app/memory/belief_surface.json` and `/home/ubuntu/personal-ai-agent/app/memory/file_tree.json` respectively. Output anomalies to `/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json`. Each anomaly must include a `severity` field (\"info\", \"warning\", \"error\") and relevant loop/justification identifiers. Ensure the output conforms to `/home/ubuntu/personal-ai-agent/app/schemas/justification_trace_anomaly_log.schema.json` (v1.0). Ensure the schema exists.\n\nRepo Sync Protocol Note: Do not perform `git pull` operations before explicitly instructed to do so in a dedicated repo synchronization batch. Assume the current local repository state is the intended state for this batch.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`, `justification_trace_anomaly_log.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.3):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For the execution of `run_integrity_sweep.py` in this batch:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.3\", `loop_id`: \"script_run_integrity_sweep_justification_linkage\", `controller_invoked`: \"run_integrity_sweep.py\", `memory_surfaces_written`: [\"/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.3) (e.g., `/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.3) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
          "expected_output": "`/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json` file containing identified anomalies in justification linkages, each with a severity level.",
          "verification_steps": [
            "Confirm `/home/ubuntu/personal-ai-agent/app/logs/justification_trace_anomaly_log.json` created and populated (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the script execution in this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
            "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `justification_trace_anomaly_log.json`, `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
            "Update `verified` status for batch 28.3 to `true`."
          ],
          "verified": false,
          "git_commit_hash": "placeholder",
          "pr_id": "placeholder",
          "dependencies": [
            "28.0"
          ]
        },
        {
          "batch_id": "28.4",
          "title": "Final Review and PR Staging Preparation",
          "prompt": "Review all generated audit logs from batches 28.1, 28.2, and 28.3. Address any findings marked with \"error\" severity. Once all critical issues are resolved or explicitly deferred by Operator, prepare for PR staging. This includes ensuring all expected artifacts from Phases 20-28 are present and correctly versioned. Create a summary report `/home/ubuntu/phase_20_28_audit_summary.md` detailing the audit outcomes, any remediations, and overall system integrity status. Zip all artifacts from Phases 20-28 (including all batch plans, schemas, validators, memory surfaces, and logs) into `/home/ubuntu/phase_20_28_artifacts.zip`.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.4):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For the final review and packaging process in this batch:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.4\", `loop_id`: \"final_review_packaging_20_28\", `controller_invoked`: \"manual_review_and_packaging_process\", `memory_surfaces_written`: [\"/home/ubuntu/phase_20_28_audit_summary.md\", \"/home/ubuntu/phase_20_28_artifacts.zip\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.4) (e.g., `/home/ubuntu/phase_20_28_audit_summary.md`, `/home/ubuntu/phase_20_28_artifacts.zip`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.4) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
          "expected_output": "`/home/ubuntu/phase_20_28_audit_summary.md` and `/home/ubuntu/phase_20_28_artifacts.zip`.",
          "verification_steps": [
            "Confirm audit summary report created.",
            "Confirm artifact zip file created and contains all expected files.",
            "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the review/packaging process (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
            "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
            "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
            "Update `verified` status for batch 28.4 to `true`."
          ],
          "verified": false,
          "git_commit_hash": "placeholder",
          "pr_id": "placeholder",
          "dependencies": [
            "28.1",
            "28.2",
            "28.3"
          ]
        }
      ]
    }
  ]
} Staging Preparation",
      "prompt": "Review all generated audit logs from batches 28.1, 28.2, and 28.3. Address any findings marked with \"error\" severity. Once all critical issues are resolved or explicitly deferred by Operator, prepare for PR staging. This includes ensuring all expected artifacts from Phases 20-28 are present and correctly versioned. Create a summary report `/home/ubuntu/phase_20_28_audit_summary.md` detailing the audit outcomes, any remediations, and overall system integrity status. Zip all artifacts from Phases 20-28 (including all batch plans, schemas, validators, memory surfaces, and logs) into `/home/ubuntu/phase_20_28_artifacts.zip`.\n\n**CRITICAL FILE HANDLING INSTRUCTION (NON-NEGOTIABLE FOR AUDIT INTEGRITY):**\nFor any of the following critical files if modified or created by this batch (`file_tree.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`, `wiring_manifest.updated_phase22_36.json`, `loop_justification_log.json`, `agent_trust_score.json`, `agent_cognitive_budget.json`, `belief_weight_index.json`, `mutation_backlog.json`, `legacy_alignment_tracker.json`, `operator_override_log.json`, `loop_summary.json`, `reflection_thread.json`):\n1.  **ALWAYS Load the FULL prior version of the file.**\n2.  **ALWAYS Append/merge new changes schema-conformantly.**\n3.  **ALWAYS Save and ensure the ENTIRE, COMPLETE file (NO PARTIALS, NO DELTAS) is the output and is available for subsequent operations.**\nThis applies to all memory surfaces, logs, and tracking files.\n\n**File Output Formalization for this Batch (28.4):**\n1.  **Wiring Manifest (`/home/ubuntu/wiring_manifest.updated_phase22_36.json`):**\n    For the final review and packaging process in this batch:\n    - Append a new JSON object entry to `/home/ubuntu/wiring_manifest.updated_phase22_36.json`.\n    - Entry fields: `batch_id`: \"28.4\", `loop_id`: \"final_review_packaging_20_28\", `controller_invoked`: \"manual_review_and_packaging_process\", `memory_surfaces_written`: [\"/home/ubuntu/phase_20_28_audit_summary.md\", \"/home/ubuntu/phase_20_28_artifacts.zip\"], `timestamp`: \"<ISO_8601_timestamp>\", `schema_version`: \"1.0\".\n    - Use \"unknown\" for undeterminable values; do not omit keys.\n2.  **File Tree (`/home/ubuntu/file_tree.updated_post_phase36.json`):**\n    Upon batch completion:\n    - Read the current `/home/ubuntu/file_tree.updated_post_phase36.json`.\n    - Add/update entries for files created/modified *by this batch* (28.4) (e.g., `/home/ubuntu/phase_20_28_audit_summary.md`, `/home/ubuntu/phase_20_28_artifacts.zip`).\n    - Entry fields: `path`: \"<absolute_path>\", `status`: \"<created/modified>\", `type`: \"<file/directory/unknown>\", `added_by`: \"<agent_id_or_script>\".\n    - Write back the merged file tree.\n3.  **Promethios File Tree Plan (`/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`):**\n    Upon batch completion:\n    - Regenerate/update `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json`.\n    - It must list all files from Phase 22 up to this batch\"s (28.4) completion.\n    - Entry fields: `path`: \"<absolute_path>\", `type`: \"<file/directory/unknown>\", `status`: \"<created/modified/existing>\", `batch_id`: \"<batch_id_of_creation_or_last_update>\", `added_by`: \"<agent_id_or_script>\".\n    - Ensure consistency with the updated `/home/ubuntu/file_tree.updated_post_phase36.json`.",
      "expected_output": "`/home/ubuntu/phase_20_28_audit_summary.md` and `/home/ubuntu/phase_20_28_artifacts.zip`.",
      "verification_steps": [
        "Confirm audit summary report created.",
        "Confirm artifact zip file created and contains all expected files.",
        "Confirm `/home/ubuntu/wiring_manifest.updated_phase22_36.json` was updated for the review/packaging process (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/file_tree.updated_post_phase36.json` was updated to reflect changes from this batch (ensure entire file was handled correctly).",
        "Confirm `/home/ubuntu/promethios_file_tree_plan.v3.1.5_runtime_synced.json` was updated/regenerated reflecting this batch (ensure entire file was handled correctly).",
        "**CRITICAL VERIFICATION:** Confirm that ALL critical files modified/created in this batch (including `wiring_manifest.updated_phase22_36.json`, `file_tree.updated_post_phase36.json`, `promethios_file_tree_plan.v3.1.5_runtime_synced.json`) were handled by: 1. Loading the FULL prior version. 2. Appending/merging new changes schema-conformantly. 3. Saving the ENTIRE, COMPLETE file. NO PARTIALS OR DELTAS ACCEPTED.",
        "Update `verified` status for batch 28.4 to `true`."
      ],
      "verified": false,
      "git_commit_hash": "placeholder",
      "pr_id": "placeholder",
      "dependencies": [
        "28.1",
        "28.2",
        "28.3"
      ]
    }
  ]
}

